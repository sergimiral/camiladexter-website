"use strict";!function(e){var o,t={settings:{heading:e(".js-clippy")},init:function(){o=this.settings,this.bindEvents()},bindEvents:function(){e(window).on("load resize scroll",e.proxy(this.getClippy,this))},getClippy:function(){o.heading.each(function(){var o=e(this).closest("article, section").offset(),t=o.top-e(window).scrollTop(),i=t-e(this).css("top").replace(/[^-\d\.]/g,"")-e(this).css("margin-top").replace(/[^-\d\.]/g,"");e(this).css("clip","rect("+i+"px, auto, auto, auto)")})}};t.init()}(jQuery),$(document).ready(function(){var e=$(".site-header"),o=$(".site-intro"),t=$(".site-tagline"),i=e.position();$("#homepage-flag").length>0&&$(window).scroll(function(){var e=$(window).scrollTop();e>=i.top&e>=300?(o.addClass("site-intro-fadeout"),t.addClass("site-tagline-fadeout")):(o.removeClass("site-intro-fadeout"),t.removeClass("site-tagline-fadeout"))})}),function(e){e(".overlay-trigger").on("click",function(o){o.preventDefault();var t=e(this).data("overlay");if(!t)return void console.log('You must provide the overlay id in the trigger. (data-overlay="overlay-id").');var i="#"+t;e(i).addClass("overlay-open"),e("body").addClass("overlay-view"),e(i).on("click",function(o){o.target.id==t&&(e(i).removeClass("overlay-open"),e("body").removeClass("overlay-view"))}),e(".overlay-close").on("click",function(o){e(i).removeClass("overlay-open"),e("body").removeClass("overlay-view")}),e(document).keyup(function(o){27==o.keyCode&&(e(i).removeClass("overlay-open"),e("body").removeClass("overlay-view"))})})}(jQuery);